% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/caret_stack.R
\name{compute_ablation.caret_stack}
\alias{compute_ablation.caret_stack}
\title{Perform an ablation analysis for a caret_stack model.}
\usage{
\method{compute_ablation}{caret_stack}(object, metric_function, metric_name, reverse = FALSE, ...)
}
\arguments{
\item{metric_function}{A function that takes two arguments \verb{(predictions, target)}
and returns a single numeric value representing the metric to compute (e.g., RMSE, accuracy, AUC).}

\item{metric_name}{The name of the metric}

\item{reverse}{The direction to ablate in. If \code{FALSE}, the lowest contributing model is removed at each iteration.
If \code{TRUE}, the highest contributing model is removed. Default is \code{FALSE}.}
}
\value{
A \code{data.table}
}
\description{
This function performs a systematic ablation analysis on a \code{caret_stack} ensemble to evaluate
each base learner's contribution to predictive performance. The procedure begins with the full
set of base model predictions and iteratively removes one model at a time. At each iteration, the ensemble
model is retrained on the remaining learners using the same \code{method}, \code{tuneGrid}, and
\code{trControl} settings as the original stack. Model importance in the ensemble is estimated, and
the learner with the lowest (or highest, if \code{reverse = TRUE}) relative contribution is removed.

After each ablation step, out-of-fold predictions are generated and evaluated using the
user-supplied \code{metric_function}, which should accept two arguments \verb{(predictions, target)} and
return a single numeric value (e.g., RMSE, accuracy, AUC). The resulting performance metrics and
model contribution estimates are recorded at each stage and returned as a \code{data.table}.
}
